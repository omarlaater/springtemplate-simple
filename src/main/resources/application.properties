spring.application.name=spring-template-starter

spring.datasource.url=${DB_URL:jdbc:h2:mem:starter;MODE=PostgreSQL;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE}
spring.datasource.username=${DB_USERNAME:sa}
spring.datasource.password=${DB_PASSWORD:}

spring.jpa.open-in-view=false
spring.jpa.hibernate.ddl-auto=none
spring.jpa.properties.hibernate.format_sql=true

spring.liquibase.enabled=${LIQUIBASE_ENABLED:true}
spring.liquibase.change-log=classpath:db/changelog/db.changelog-master.xml

management.endpoints.web.base-path=/actuator
management.endpoints.web.exposure.include=health,info,prometheus,loggers
management.endpoint.health.probes.enabled=true
management.endpoint.health.show-details=when_authorized
management.metrics.tags.application=${spring.application.name}
management.tracing.sampling.probability=${TRACING_SAMPLING:1.0}
management.security.user.name=${ACTUATOR_USERNAME:actuator}
management.security.user.password=${ACTUATOR_PASSWORD:actuator-dev-password}

otel.exporter.otlp.endpoint=${OTEL_EXPORTER_OTLP_ENDPOINT:http://localhost:4317}

server.shutdown=graceful

#---
spring.config.activate.on-profile=postgres
spring.datasource.url=${DB_URL:jdbc:postgresql://localhost:5432/starter}
spring.datasource.username=${DB_USERNAME:starter}
spring.datasource.password=${DB_PASSWORD:starter}

#---
spring.config.activate.on-profile=prod
spring.datasource.url=${DB_URL}
spring.datasource.username=${DB_USERNAME}
spring.datasource.password=${DB_PASSWORD}
spring.jpa.hibernate.ddl-auto=validate

#---
spring.config.activate.on-profile=dev
logging.level.com.example.starter=DEBUG
